(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9683)}])},4253:function(e,t,r){"use strict";r.r(t);var n=r(5893);r(7294),t.default=e=>{let{onClick:t,text:r,type:o}=e;return(0,n.jsx)("button",{className:"block  border  border-gray-400 bg-white rounded-lg hover:shadow-md hover:border-opacity-0 transform transition-all duration-200 text-gray-700 text-sm text-center font-sans py-3 px-8",type:o,onClick:t,children:r})}},9683:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(5893);r(5675);var o=r(4253);async function s(e){try{let t=await fetch("https://9pdjo9cu43.execute-api.us-east-1.amazonaws.com/dev",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e})}),r=await t.json(),n=r.answer;return console.log("Doc Brown Answered!"),n}catch(e){return console.error("An error occurred: ",e),null}}var a=r(2515),c=r(7294);function l(){let{transcript:e,listening:t,resetTranscript:r}=(0,a.x6)(),[l,i]=(0,c.useState)(""),[u,d]=(0,c.useState)(""),[h,x]=(0,c.useState)(!1),[p,b]=(0,c.useState)(""),f=async()=>{try{let e=await s(l);d(e),function(e){fetch("https://wmypv4sqq8.execute-api.us-east-1.amazonaws.com/dev",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({script:e})}).then(e=>e.blob()).then(e=>{console.log("Audio is working!");let t=URL.createObjectURL(e);new Audio(t).play()}).catch(e=>console.error("An error occurred while synthesizing the speech: ",e))}(e)}catch(e){console.error("An error occurred:",e)}},m={continuous:!0,language:"en-CA",onResult:()=>{i(speechTranscript)}};return(0,n.jsxs)("div",{children:[h?null:(0,n.jsxs)("div",{className:"flex flex-col h-screen justify-center items-center",children:[(0,n.jsx)("div",{className:"mb-5 text-3xl",children:"Ask Doc Brown"}),(0,n.jsx)("input",{className:"mb-5 text-center h-10",type:"text",value:p,onChange:e=>{b(e.target.value)},placeholder:"Enter your first name"}),(0,n.jsx)(o.default,{className:"",onClick:()=>{x(!h)},text:"Start"})]}),h?(0,n.jsx)("div",{className:"container mx-auto px-1",children:(0,n.jsxs)("div",{className:"p-8 text-center",children:[(0,n.jsxs)("div",{className:"mb-5 text-l font-sans",children:["Hello! ",p,(0,n.jsx)("br",{}),"I am Doctor Brown.",(0,n.jsx)("br",{}),"Ask Me Any Question."]}),(0,n.jsx)("p",{className:"pb-5 font-sans",style:{color:t?"green":"red"},children:t?"Listening...":"Microphone Off"}),(0,n.jsxs)("div",{className:"mb-5 flex justify-between",children:[(0,n.jsx)(o.default,{onClick:()=>a.ZP.startListening(m),text:"Start"}),(0,n.jsx)(o.default,{onClick:a.ZP.stopListening,text:"Stop"}),(0,n.jsx)(o.default,{onClick:()=>{r(),i(""),d("")},text:"Reset"})]}),(0,n.jsx)("input",{className:"questionShow overflow-auto w-full block box-border bg-white h-24 p-4 border-2 border-gray-400 mb-5 rounded",type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"Press start to record your question or type it here..."}),(0,n.jsx)("button",{onClick:f,className:"border block w-full mb-5 border-gray-400  rounded-lg  bg-white hover:shadow-md hover:border-opacity-0 font-sans  text-gray-700 text-m py-3",children:"Submit"}),(0,n.jsx)("div",{className:"answerShow overflow-auto box-border bg-white h-56 p-4 border-2 border-gray-400 mb-5 rounded",children:u||(0,n.jsx)("span",{className:"text-gray-400",children:"Doc Brown's answer will appear here..."})})]})}):null]})}}},function(e){e.O(0,[726,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);